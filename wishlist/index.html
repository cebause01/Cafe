<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your BforBrew wishlist - Save your favorite coffee beans for later.">
    <title>Wishlist | BforBrew</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Container -->
    <div id="header-container"></div>

    <!-- Wishlist Header -->
    <section class="reservation-header">
        <div class="container">
            <h1>My Wishlist</h1>
            <p>Your saved favorite coffee beans</p>
        </div>
    </section>

    <!-- Wishlist Content -->
    <section class="wishlist-section">
        <div class="container">
            <div id="wishlistContainer" class="beans-grid">
                <!-- Wishlist items will be dynamically loaded here -->
            </div>
            <div id="emptyWishlist" style="display: none; text-align: center; padding: 4rem 2rem;">
                <h2>Your wishlist is empty</h2>
                <p style="color: var(--text-light); margin: 1rem 0 2rem;">Start adding your favorite coffee beans to your wishlist!</p>
                <a href="../shop.html" class="btn btn-primary">Browse Coffee Beans</a>
            </div>
        </div>
    </section>

    <!-- Footer Container -->
    <div id="footer-container"></div>

    <script>
        // Get coffee beans data from shop.js scope (simplified version)
        const allCoffeeBeans = [
            { id: 1, name: "Humble Mornings Blend", price: 65.00, description: "A smooth, balanced medium roast", details: ["12 oz bag", "17-21 servings", "Medium Roast"], badge: "Best Seller", gradient: "linear-gradient(135deg, #6F4E37 0%, #8B6F47 100%)", image: null },
            { id: 2, name: "BforBrew Signature Dark Roast", price: 65.00, description: "Bold and intense with smoky notes", details: ["12 oz bag", "17-21 servings", "Dark Roast"], badge: "New", gradient: "linear-gradient(135deg, #3E2723 0%, #5D4037 100%)" },
            { id: 3, name: "Melaka Light Roast", price: 65.00, description: "Bright and fruity with floral notes", details: ["12 oz bag", "17-21 servings", "Light Roast"], badge: "Light", gradient: "linear-gradient(135deg, #8D6E63 0%, #A1887F 100%)" }
        ];

        function renderWishlist() {
            const wishlist = JSON.parse(localStorage.getItem('bforbrew_wishlist') || '[]');
            const wishlistContainer = document.getElementById('wishlistContainer');
            const emptyWishlist = document.getElementById('emptyWishlist');

            if (wishlist.length === 0) {
                wishlistContainer.style.display = 'none';
                emptyWishlist.style.display = 'block';
                return;
            }

            wishlistContainer.style.display = 'grid';
            emptyWishlist.style.display = 'none';

            const wishlistItems = allCoffeeBeans.filter(bean => wishlist.includes(bean.id));

            wishlistContainer.innerHTML = wishlistItems.map(bean => `
                <div class="bean-card" onclick="openBeanModal(${bean.id})" style="cursor: pointer;">
                    <div class="bean-image" style="background: ${bean.image ? 'none' : bean.gradient};">
                        ${bean.image ? `<img src="${bean.image}" alt="${bean.name}" class="bean-product-image">` : ''}
                    </div>
                    <div class="bean-info">
                        ${bean.badge ? `<span class="bean-badge">${bean.badge}</span>` : ''}
                        <h3>${bean.name}</h3>
                        <p class="bean-description">${bean.description}</p>
                        <div class="bean-details">
                            ${bean.details.map(detail => `<span class="detail-item">${detail}</span>`).join('')}
                        </div>
                        <div class="bean-price">
                            <span class="price">RM ${bean.price.toFixed(2)}</span>
                            <button class="btn btn-add-to-cart" data-id="${bean.id}" onclick="event.stopPropagation(); addToCartFromWishlist(${bean.id})">Add to Cart</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function addToCartFromWishlist(productId) {
            // This would call the actual addToCart function
            alert('Added to cart! (Functionality to be integrated)');
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderWishlist();
        });
    </script>
    <script src="../cart.js"></script>
    <script src="../wishlist.js"></script>
    <script src="../modal.js"></script>
    <script src="../search.js"></script>
    <script src="../script.js"></script>
    <script src="../components.js"></script>
</body>
</html>



